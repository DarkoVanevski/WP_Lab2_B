<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Dish Form</title>
</head>
<body>

<h2 th:text="${isEdit} ? 'Edit Dish' : 'Add Dish'"></h2>

<form th:action="${isEdit} ? @{'/dishes/edit/' + ${dish.id}} : @{/dishes/add}"
      method="post">

    <label>Dish ID: </label>
    <input type="text" name="dishId" th:value="${dish.dishId}" required><br><br>

    <label>Name: </label>
    <input type="text" name="name" th:value="${dish.name}" required><br><br>

    <label>Cuisine: </label>
    <input type="text" name="cuisine" th:value="${dish.cuisine}" required><br><br>

    <label>Preparation Time: </label>
    <input type="number" name="preparationTime" th:value="${dish.preparationTime}" required><br><br>

    <label>Chef: </label>
    <select name="chefId">
        <option value="">-- Select Chef (Optional) --</option>
        <option th:each="chef : ${chefs}"
                th:value="${chef.id}"
                th:text="${chef.firstName + ' ' + chef.lastName}"
                th:selected="${dish.chef != null && dish.chef.id == chef.id}">
        </option>
    </select><br><br>

    <button type="submit" th:text="${isEdit} ? 'Update' : 'Create'"></button>
</form>

<br>
<a href="/dishes">Back to list</a>

</body>
</html>